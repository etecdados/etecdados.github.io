<!DOCTYPE html>
 <!--
	 For God so loved the world that he gave his one and only Son,
	 that whoever believes in him shall not perish but have eternal life.
	 (John 3:16)
 -->
<html lang="pt-br">
	<!-- head -->
	<head>
		<!-- title -->
		<title>Etecdados</title>
		<!-- meta -->
		<meta charset="utf-8">
		<meta name="viewport"    content="width=device-width, initial-scale=1">
		<meta name="author"      content="fernando silva">
		<meta name="contact"     content="etecdados@gmail.com / +55 (021) 98363-3263">
		<meta name="description" content="etecdados">
		<meta name="keywords"    content="etecdados, empresa, tecnologia, dados, data, technology, company">
		<!-- link -->
		<link type="image/x-icon" rel="icon"       href="../root/favicon/etecdados.ico"> <!-- version 1.0.0 -->
		<link type="text/css"     rel="stylesheet" href="../root/css/bootstrap.css"	   > <!-- version 4.3.1 -->
		<link type="text/css"     rel="stylesheet" href="../root/css/fontawesome.css"  > <!-- version 5.9.0 -->
		<link type="text/css"     rel="stylesheet" href="../root/css/etecdados.css"    > <!-- version 1.0.0 -->
		<!-- script -->
		<script type="text/javascript" src="../root/scripts/jquery.js"   ></script> <!-- version 3.4.1  -->
		<script type="text/javascript" src="../root/scripts/popper.js"   ></script> <!-- version 1.14.7 -->
		<script type="text/javascript" src="../root/scripts/bootstrap.js"></script> <!-- version 4.3.1  -->
		<script type="text/javascript" src="../root/scripts/etecdados.js"></script> <!-- version 1.0.0  -->
		<!-- google api -->
        <script async defer src="https://apis.google.com/js/api.js" onload="this.onload=function(){};accessSetup()"></script>
	</head>
	<!-- body -->
	<body>
		<!-- navbar -->
		<nav class="navbar navbar-expand-sm navbar-dark bg-dark text-white-50">
            <!-- logo and username -->
            <div class="text-left text-nowrap">
                <i class="fas fa-user-alt"></i>
                <script>document.write(username)</script>
            </div>
			<!-- button toggler -->
			<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#div_navbar" onclick="">
				<span class="navbar-toggler-icon"></span>
			</button>
			<!-- navbar menu -->
			<div class="collapse navbar-collapse" id="div_navbar">
				<!-- ul auto -->
				<ul class="navbar-nav mr-auto"></ul>
				<!-- ul menu -->
				<ul class="navbar-nav">
					<!-- files -->
					<li class="nav-item ml-3">
						<a href="map" class="text-white-50 text-decoration-none">
							<i class="fas fa-globe-americas"></i>
							<script>document.write(text[15][language])</script>
						</a>
					</li>
					<!-- projects -->
					<li class="nav-item ml-3">
						<a href="../main" class="text-white-50 text-decoration-none">
							<i class="fas fa-globe"></i>
							<script>document.write(text[9][language])</script>
						</a>
					</li>
					<!-- logout -->
					<li class="nav-item ml-3">
						<a href="#" class="text-white-50 text-decoration-none" data-toggle="modal" data-target="#div_logout">
							<i class="fas fa-sign-out-alt"></i>
							<script>document.write(text[10][language])</script>
						</a>
					</li>
					<!-- language -->
					<li class="nav-item ml-3">
						<button type="button" class="button_nav align-middle" onclick="setLanguage(this)" value="1" id="button_portuguese" title="Portuguese"></button>
						<button type="button" class="button_nav align-middle" onclick="setLanguage(this)" value="2" id="button_spanish"    title="Spanish"   ></button>
						<button type="button" class="button_nav align-middle" onclick="setLanguage(this)" value="3" id="button_english"    title="English"   ></button>
					</li>
				</ul>
			</div>
		</nav>
		<!-- container -->
		<div class="container-fluid text-center mb-3">
            <!-- header -->
			<header class="row pt-1 pb-1">
                <!-- logo elecnor -->
                <div class="col-sm-3 m-auto text-left d-none d-sm-block">
                    <img src="../root/images/elecnor/elecnor.png" alt="logo elecnor">
                </div>
                <!-- files -->
                <div class="col m-auto">
                    <i class="fas fa-file-alt"></i>
                    <script>document.write(text[18][language])</script>
                </div>
                <!-- logo project -->
                <div class="col-sm-3 m-auto text-right d-none d-sm-block">
					<img src="../root/images/elecnor/" alt="logo project" id="img_project">
					<script type="text/javascript">$("#img_project").attr("src", "../root/images/elecnor/" + projects[position][1] + ".png");</script>
				</div>
			</header>
			


			<style>
				#map {
				height: 500px;
				}
				/* Optional: Makes the sample page fill the window. */
				html, body {
				height: 100%;
				margin: 0;
				padding: 0;
				}
		
			</style>

			
			<div>
				<span id="span_cables" class="text-primary"></span>
				<input type="radio" name="poly" onclick="addPolyline(this)" value="0" id="input1">
				<input type="radio" name="poly" onclick="addPolyline(this)" value="4" id="input2">
			</div>

			<div id="map"></div>

			<script type="text/javascript">
			// Initialize and add the map
			function initMap() {
					var myLatlng = new google.maps.LatLng(parseFloat(data[0][sheetLatitude]), parseFloat(data[0][sheetLongitude]));
					var mapOptions = {
					zoom: 8,
					center: myLatlng,
					mapTypeId: 'terrain'
					};	
					map = new google.maps.Map(document.getElementById('map'),mapOptions);
					
				}
			
				/* markers -------------------------------------------------- */

/* polyline ------------------------------------------------- */
var polylines = new Array();
// add polyline
function addPolyline(parameter) {
    // span cables
	document.getElementById("span_cables").innerHTML = '<i class="far fa-dot-circle"></i>';
    // get element
    var element;
    // conditional
    if (typeof parameter == "number") {
        element = parameter;
    } else {
        element = document.getElementById(parameter.id).value;
    }
    // legend
	//legend(element);
	// set map
	for (var a = 0; a < data.length; a++) {
		var position;
		var stroke;
		var weight;
		// conditional
		if (a == 0) {
			for (var b = 0; b < polylines.length; b++) {
				polylines[b].setMap(null);
			}
			// clear
			polylines = [];
		}
		// coordinates
		var coordinates = new Array();
		// conditional
		if (a + 1 >= data.length) {
			break;
		} else {
			coordinates = [
				{lat: parseFloat(data[a + 0][sheetLatitude]), lng: parseFloat(data[a + 0][sheetLongitude])},
				{lat: parseFloat(data[a + 1][sheetLatitude]), lng: parseFloat(data[a + 1][sheetLongitude])}
			];
		}
		// check element
		if (element == 0) {
			stroke = "#FFC107";
			weight = 1.0;
		} else {
			// activity
            for (var b = 0; b < activity.length; b++) {
				// conditional
				if (activity[b][0] == element) {
					// position
					for (var c = 0; c < activityItens; c++) {
						// auxiliary
						var auxiliary = b + c + 1;
						// conditional
						if (activity[auxiliary][1] == "") {
							position = 9;
							break;
					} else if (activity[auxiliary][1] == data[a][sheetActivity + parseInt(element)]) {
						position = parseInt(activity[auxiliary][activityColor]);
						break;
					}
				}
				break;
				}
			}
			// stroke color
			switch(position) {
				case 0:
					stroke = colors[0];
					break;
				case 1:
					stroke = colors[1];
					break;
				case 2:
					stroke = colors[2];
					break;
				case 3:
					stroke = colors[3];
					break;
				case 4:
					stroke = colors[4];
					break;
				case 5:
					stroke = colors[5];
					break;
				case 6:
					stroke = colors[6];
					break;
				case 7:
					stroke = colors[7];
					break;
				case 8:
					stroke = colors[8];
					break;
				default:
					stroke = colors[9];
			}
			// weight
			weight = 3.0;
		}
		// new polyline
		var polyline = new google.maps.Polyline({
			geodesic: true,
			map: map,
			path: coordinates,
			strokeColor: stroke,
			strokeOpacity: 0.8,
			strokeWeight: weight
		});
		// push
		polylines.push(polyline);	
	}
}
				</script>
				
			
			<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAIFODSjhKFZBXo_bh_LjYGGANHmsGu0UQ&callback=initMap" async defer></script>

				
			

            <!-- modal logout -->
			<div class="modal fade" id="div_logout">
                <div class="modal-dialog modal-sm" role="document">
                    <div class="modal-content">
                        <!-- modal header -->
                        <div class="modal-header">
                            <h5 class="modal-title text-primary">
                                <i class="fas fa-sign-out-alt"></i>
                                <script>document.write(text[10][language])</script>
                            </h5>
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </div>
                        <!-- modal body -->
                        <div class="modal-body">
                            <script>document.write(text[11][language])</script>
                        </div>
                        <!-- modal footer -->
                        <div class="modal-footer">
                            <button type="button" class="button_logout btn btn-primary" onclick="logout()">
                                <script>document.write(text[12][language])</script>
                            </button>
                            <button type="button" class="button_logout btn btn-secondary" data-dismiss="modal">
                                <script>document.write(text[13][language])</script>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
		</div>
	</body>
</html>